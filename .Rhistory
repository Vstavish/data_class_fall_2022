mutate(sustained_discipline, other = ifelse(grepl("Other", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, unknown = ifelse(grepl("Unknown", discipline_type), "yes", NA))
# Getting the totals for each discipline type and putting them in a separate dataframe
sustained_discipline_sums <- data.frame(discipline_type = c("No discipline", "Warning", "Written reprimand", "Counseling", "Training", "Loss of vacation time", "Probation", "Demoted", "Suspended", "Fired", "Resigned before investigation complete", "Resigned", "Retired", "Retired before investigation complete", "License revoked", "Other", "Unknown"),
sum = c(sum(!is.na(sustained_discipline$no_discipline)),
sum(!is.na(sustained_discipline$warning)),
sum(!is.na(sustained_discipline$written_reprimand)) ,
sum(!is.na(sustained_discipline$counseling)),
sum(!is.na(sustained_discipline$training)),
sum(!is.na(sustained_discipline$lost_vacation_time)),
sum(!is.na(sustained_discipline$probation)),
sum(!is.na(sustained_discipline$demoted)),
sum(!is.na(sustained_discipline$suspended)),
sum(!is.na(sustained_discipline$fired)),
sum(!is.na(sustained_discipline$resigned_before_complete)),
sum(!is.na(sustained_discipline$resigned)),
sum(!is.na(sustained_discipline$retired)),
sum(!is.na(sustained_discipline$retired_before_complete)),
sum(!is.na(sustained_discipline$license_revoked)),
sum(!is.na(sustained_discipline$other)),
sum(!is.na(sustained_discipline$unknown))
))
sustained_discipline_sums[sustained_discipline_sums == 0] <- NA
sustained_discipline_sums <- sustained_discipline_sums %>%
filter(!is.na(sum))
# Making a bar chart
sustained_discipline_sums %>%
ggplot() +
geom_bar(aes(x=discipline_type, weight=sum), fill="indianred3") +
coord_flip() +
labs(
title="Types of Discipline Faced for Sustained Incidents\n",
x = "Type of Discipline",
y = "\nNumber of Incidents",
caption="Chart by Hannah Marszalek\nSource: Howard Center analysis of police officer personnel database"
)
output_formatted_table(sustained_discipline_sums,"Breakdown of discipline type for sustained incidents")
# Creating and cleaning the dataframe to make it searchable
discipline <- cSplit(incidents, "discipline_type", sep = '],[', drop = FALSE, stripWhite = FALSE)
sustained_discipline <- discipline %>%
select(officer_last:incident_year, month, day, agency, findings_disciplinary, contains("discipline_type")) %>%
select(-contains("link"), -contains("l_discipline_type"), -contains("discipline_type_1")) %>%
mutate(
findings_disciplinary = na_if(findings_disciplinary, "null"),
clean_findings_disciplinary = gsub("^.", "", findings_disciplinary),
clean_findings_disciplinary = gsub(".$", "", clean_findings_disciplinary)
) %>%
select(-findings_disciplinary) %>%
rename(
findings_disciplinary = clean_findings_disciplinary
)
# Filtering for only sustained incidents by looking in findings_disciplinary
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, not_sustained = ifelse(grepl("Not Sustained", findings_disciplinary), "yes", NA)) %>%
filter(is.na(not_sustained)) %>%
select(-not_sustained)
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, sustained = ifelse(grepl("Sustained", findings_disciplinary), "yes", NA)) %>%
filter(!is.na(sustained)) %>%
select(-sustained, -findings_disciplinary)
# Finding each type of discipline
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, no_discipline = ifelse(grepl("No discipline", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, warning = ifelse(grepl("Warning", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, written_reprimand = ifelse(grepl("Written reprimand", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, counseling = ifelse(grepl("Counseling", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, training = ifelse(grepl("Training", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, lost_vacation_time = ifelse(grepl("Loss of vacation time", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, probation = ifelse(grepl("Probation", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, demoted = ifelse(grepl("Demoted", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, suspended = ifelse(grepl("Suspended", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, fired = ifelse(grepl("Fired", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, resigned_before_complete = ifelse(grepl("Resigned before investigation complete", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, resigned = ifelse(grepl("Resigned", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, retired = ifelse(grepl("Retired", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, retired_before_complete = ifelse(grepl("Retired before investigation complete", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, license_revoked = ifelse(grepl("License revoked", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, other = ifelse(grepl("Other", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, unknown = ifelse(grepl("Unknown", discipline_type), "yes", NA))
# Getting the totals for each discipline type and putting them in a separate dataframe
sustained_discipline_sums <- data.frame(discipline_type = c("No discipline", "Warning", "Written reprimand", "Counseling", "Training", "Loss of vacation time", "Probation", "Demoted", "Suspended", "Fired", "Resigned before investigation complete", "Resigned", "Retired", "Retired before investigation complete", "License revoked", "Other", "Unknown"),
sum = c(sum(!is.na(sustained_discipline$no_discipline)),
sum(!is.na(sustained_discipline$warning)),
sum(!is.na(sustained_discipline$written_reprimand)) ,
sum(!is.na(sustained_discipline$counseling)),
sum(!is.na(sustained_discipline$training)),
sum(!is.na(sustained_discipline$lost_vacation_time)),
sum(!is.na(sustained_discipline$probation)),
sum(!is.na(sustained_discipline$demoted)),
sum(!is.na(sustained_discipline$suspended)),
sum(!is.na(sustained_discipline$fired)),
sum(!is.na(sustained_discipline$resigned_before_complete)),
sum(!is.na(sustained_discipline$resigned)),
sum(!is.na(sustained_discipline$retired)),
sum(!is.na(sustained_discipline$retired_before_complete)),
sum(!is.na(sustained_discipline$license_revoked)),
sum(!is.na(sustained_discipline$other)),
sum(!is.na(sustained_discipline$unknown))
))
sustained_discipline_sums[sustained_discipline_sums == 0] <- NA
sustained_discipline_sums <- sustained_discipline_sums %>%
filter(!is.na(sum))
# Making a bar chart
sustained_discipline_sums %>%
ggplot() +
geom_bar(aes(x=discipline_type, weight=sum), fill="blue") +
coord_flip() +
labs(
title="Types of Discipline Faced for Sustained Incidents\n",
x = "Type of Discipline",
y = "\nNumber of Incidents",
caption="Chart by Hannah Marszalek\nSource: Howard Center analysis of police officer personnel database"
)
output_formatted_table(sustained_discipline_sums,"Breakdown of discipline type for sustained incidents")
# Creating and cleaning the dataframe to make it searchable
discipline <- cSplit(incidents, "discipline_type", sep = '],[', drop = FALSE, stripWhite = FALSE)
sustained_discipline <- discipline %>%
select(officer_last:incident_year, month, day, agency, findings_disciplinary, contains("discipline_type")) %>%
select(-contains("link"), -contains("l_discipline_type"), -contains("discipline_type_1")) %>%
mutate(
findings_disciplinary = na_if(findings_disciplinary, "null"),
clean_findings_disciplinary = gsub("^.", "", findings_disciplinary),
clean_findings_disciplinary = gsub(".$", "", clean_findings_disciplinary)
) %>%
select(-findings_disciplinary) %>%
rename(
findings_disciplinary = clean_findings_disciplinary
)
# Filtering for only sustained incidents by looking in findings_disciplinary
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, not_sustained = ifelse(grepl("Not Sustained", findings_disciplinary), "yes", NA)) %>%
filter(is.na(not_sustained)) %>%
select(-not_sustained)
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, sustained = ifelse(grepl("Sustained", findings_disciplinary), "yes", NA)) %>%
filter(!is.na(sustained)) %>%
select(-sustained, -findings_disciplinary)
# Finding each type of discipline
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, no_discipline = ifelse(grepl("No discipline", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, warning = ifelse(grepl("Warning", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, written_reprimand = ifelse(grepl("Written reprimand", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, counseling = ifelse(grepl("Counseling", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, training = ifelse(grepl("Training", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, lost_vacation_time = ifelse(grepl("Loss of vacation time", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, probation = ifelse(grepl("Probation", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, demoted = ifelse(grepl("Demoted", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, suspended = ifelse(grepl("Suspended", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, fired = ifelse(grepl("Fired", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, resigned_before_complete = ifelse(grepl("Resigned before investigation complete", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, resigned = ifelse(grepl("Resigned", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, retired = ifelse(grepl("Retired", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, retired_before_complete = ifelse(grepl("Retired before investigation complete", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, license_revoked = ifelse(grepl("License revoked", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, other = ifelse(grepl("Other", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, unknown = ifelse(grepl("Unknown", discipline_type), "yes", NA))
# Getting the totals for each discipline type and putting them in a separate dataframe
sustained_discipline_sums <- data.frame(discipline_type = c("No discipline", "Warning", "Written reprimand", "Counseling", "Training", "Loss of vacation time", "Probation", "Demoted", "Suspended", "Fired", "Resigned before investigation complete", "Resigned", "Retired", "Retired before investigation complete", "License revoked", "Other", "Unknown"),
sum = c(sum(!is.na(sustained_discipline$no_discipline)),
sum(!is.na(sustained_discipline$warning)),
sum(!is.na(sustained_discipline$written_reprimand)) ,
sum(!is.na(sustained_discipline$counseling)),
sum(!is.na(sustained_discipline$training)),
sum(!is.na(sustained_discipline$lost_vacation_time)),
sum(!is.na(sustained_discipline$probation)),
sum(!is.na(sustained_discipline$demoted)),
sum(!is.na(sustained_discipline$suspended)),
sum(!is.na(sustained_discipline$fired)),
sum(!is.na(sustained_discipline$resigned_before_complete)),
sum(!is.na(sustained_discipline$resigned)),
sum(!is.na(sustained_discipline$retired)),
sum(!is.na(sustained_discipline$retired_before_complete)),
sum(!is.na(sustained_discipline$license_revoked)),
sum(!is.na(sustained_discipline$other)),
sum(!is.na(sustained_discipline$unknown))
))
sustained_discipline_sums[sustained_discipline_sums == 0] <- NA
sustained_discipline_sums <- sustained_discipline_sums %>%
filter(!is.na(sum))
# Making a bar chart
sustained_discipline_sums %>%
ggplot() +
geom_bar(aes(x=reorder(discipline_type, sum), weight=sum) fill="blue") +
# Creating and cleaning the dataframe to make it searchable
discipline <- cSplit(incidents, "discipline_type", sep = '],[', drop = FALSE, stripWhite = FALSE)
sustained_discipline <- discipline %>%
select(officer_last:incident_year, month, day, agency, findings_disciplinary, contains("discipline_type")) %>%
select(-contains("link"), -contains("l_discipline_type"), -contains("discipline_type_1")) %>%
mutate(
findings_disciplinary = na_if(findings_disciplinary, "null"),
clean_findings_disciplinary = gsub("^.", "", findings_disciplinary),
clean_findings_disciplinary = gsub(".$", "", clean_findings_disciplinary)
) %>%
select(-findings_disciplinary) %>%
rename(
findings_disciplinary = clean_findings_disciplinary
)
# Filtering for only sustained incidents by looking in findings_disciplinary
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, not_sustained = ifelse(grepl("Not Sustained", findings_disciplinary), "yes", NA)) %>%
filter(is.na(not_sustained)) %>%
select(-not_sustained)
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, sustained = ifelse(grepl("Sustained", findings_disciplinary), "yes", NA)) %>%
filter(!is.na(sustained)) %>%
select(-sustained, -findings_disciplinary)
# Finding each type of discipline
sustained_discipline <- sustained_discipline %>%
mutate(sustained_discipline, no_discipline = ifelse(grepl("No discipline", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, warning = ifelse(grepl("Warning", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, written_reprimand = ifelse(grepl("Written reprimand", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, counseling = ifelse(grepl("Counseling", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, training = ifelse(grepl("Training", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, lost_vacation_time = ifelse(grepl("Loss of vacation time", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, probation = ifelse(grepl("Probation", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, demoted = ifelse(grepl("Demoted", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, suspended = ifelse(grepl("Suspended", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, fired = ifelse(grepl("Fired", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, resigned_before_complete = ifelse(grepl("Resigned before investigation complete", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, resigned = ifelse(grepl("Resigned", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, retired = ifelse(grepl("Retired", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, retired_before_complete = ifelse(grepl("Retired before investigation complete", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, license_revoked = ifelse(grepl("License revoked", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, other = ifelse(grepl("Other", discipline_type), "yes", NA)) %>%
mutate(sustained_discipline, unknown = ifelse(grepl("Unknown", discipline_type), "yes", NA))
# Getting the totals for each discipline type and putting them in a separate dataframe
sustained_discipline_sums <- data.frame(discipline_type = c("No discipline", "Warning", "Written reprimand", "Counseling", "Training", "Loss of vacation time", "Probation", "Demoted", "Suspended", "Fired", "Resigned before investigation complete", "Resigned", "Retired", "Retired before investigation complete", "License revoked", "Other", "Unknown"),
sum = c(sum(!is.na(sustained_discipline$no_discipline)),
sum(!is.na(sustained_discipline$warning)),
sum(!is.na(sustained_discipline$written_reprimand)) ,
sum(!is.na(sustained_discipline$counseling)),
sum(!is.na(sustained_discipline$training)),
sum(!is.na(sustained_discipline$lost_vacation_time)),
sum(!is.na(sustained_discipline$probation)),
sum(!is.na(sustained_discipline$demoted)),
sum(!is.na(sustained_discipline$suspended)),
sum(!is.na(sustained_discipline$fired)),
sum(!is.na(sustained_discipline$resigned_before_complete)),
sum(!is.na(sustained_discipline$resigned)),
sum(!is.na(sustained_discipline$retired)),
sum(!is.na(sustained_discipline$retired_before_complete)),
sum(!is.na(sustained_discipline$license_revoked)),
sum(!is.na(sustained_discipline$other)),
sum(!is.na(sustained_discipline$unknown))
))
sustained_discipline_sums[sustained_discipline_sums == 0] <- NA
sustained_discipline_sums <- sustained_discipline_sums %>%
filter(!is.na(sum))
# Making a bar chart
sustained_discipline_sums %>%
ggplot() +
geom_bar(aes(x=reorder(discipline_type, sum), weight=sum), fill="blue") +
#ggplot(df, aes(x = reorder(Category, -Count), y = Count)) +
coord_flip() +
labs(
title="Types of Discipline Faced for Sustained Incidents\n",
x = "Type of Discipline",
y = "\nNumber of Incidents",
caption="Chart by Hannah Marszalek\nSource: Howard Center analysis of police officer personnel database"
)
output_formatted_table(sustained_discipline_sums,"Breakdown of discipline type for sustained incidents")
# Cleaning columns in the incidents dataframe to search for specific use of force incidents
use_of_force <- cSplit(incidents, "factors_alleged", sep = '],[', drop = FALSE, stripWhite = FALSE)
use_of_force <- cSplit(incidents, "factors_sustained_findings", sep = '],[', drop = FALSE, stripWhite = FALSE)
use_of_force <- use_of_force %>%
select(officer_last:death_year, factors_alleged, factors_sustained_findings)
# Filtering for only incidents where use of force was a factor
use_of_force <- use_of_force %>%
mutate(use_of_force, yes_force = ifelse(grepl("Use of force", factors_alleged) | grepl("Use of force", factors_sustained_findings), "yes", NA)) %>%
filter(!is.na(yes_force))
use_of_force$full_name <- paste(use_of_force$officer_first, use_of_force$officer_last)
use_of_force <- use_of_force %>%
relocate(full_name, .before = officer_last) %>%
select(-factors_alleged, -factors_sustained_findings)
# Making sure there is only one result per officer if an officer has multiple relevant incidents
use_of_force <- unique(use_of_force)
filtered_military <- officers_military %>%
select(-num_military_jobs)
force_military <- merge(filtered_military, use_of_force, by = "full_name", all.x = TRUE)
force_military <- force_military %>%
filter(!is.na(yes_force)) %>%
select(full_name:death_year.x, state_of_death) %>%
rename(
officer_last = officer_last.x,
officer_first = officer_first.x,
deceased_last = deceased_last.x,
deceased_first = deceased_first.x,
death_year = death_year.x
)
output_formatted_table(force_military,"Officers with military experience involved in use of force incidents")
knitr::opts_chunk$set(echo = TRUE)
#install.packages("readxl")
library(readxl)
#install.packages("dplyr")
library(dplyr)
#install.packages("ggplot2")
library(ggplot2)
#install.packages("tidyverse")
library(tidyverse)
#install.packages("janitor")
library(janitor)
#install.packages("googlesheets4")
library(googlesheets4)
#install.packages("googledrive")
library(googledrive)
#read in salary data
salary_data <- read_sheet("https://docs.google.com/spreadsheets/d/1PXV4ZsvMrRnTxsCJ1r2aUbAWKi_JkG_IF2GKWyoYUHs/edit?usp=sharing")
#rename columns
colnames(salary_data)[colnames(salary_data) %in% c("DIVISION", "DEPARTMENT", "TITLE", "PRIMARY NAME", "APPT BASE ANNUAL SALARY")] <- c("college", "department", "title", "name", "salary")
salary_all_adjuncts
View(salary_data)
install.packages("tidyverse")
install.packages("tidyverse")
install.packages("janitor")
install.packages("rmarkdown")
install.packages("skimr")
install.packages("janitor")
install.packages("rmarkdown")
install.packages("swirl")
install.packages("rmarkdown")
install.packages("swirl")
800*3
"Merrill"
my_name <- "Victoria"
setwd("~/GitHub/data_class_fall_2022")
getwd()
setwd("C:\Users\Vstav\OneDrive\Documents\GitHub\data_class_fall_2022")
setwd("C:/Users/Vstav/OneDrive/Documents/GitHub/data_class_fall_2022")
library(swirl)
swirl()
5 + 7
x <- 5 + 7
x
y <- x-3
y
z <- c(1.1, 9, 3.14)
?c
z
c(z, 555, z)
z * 2 + 100
my_sqrt <- sqrt(z-1)
my_sqrt
bye()
help.start()
#install.packages("tidyverse")
install.packages("rio")
install.packages("janitor")
install.packages("janitor")
library(tidyverse)
library(rio)
library(janitor)
MediaBucks <- rio::import("https://docs.google.com/spreadsheets/d/1jkbQFwIdaWv8K00Ad6Wq7ZxFTUPFQA-g/edit#gid=1655992481", which = "RealMediaSalaries2")
MediaBucks <- rio::import("https://docs.google.com/spreadsheets/d/1jkbQFwIdaWv8K00Ad6Wq7ZxFTUPFQA-g/edit#gid=1655992481", which = "RealMediaSalaries2")
View(MediaBucks)
nrow(MediaBucks)
ncol(MediaBucks)
dim(MediaBucks)
colnames(MediaBucks)
names(MediaBucks)
str(MediaBucks)
glimpse(Mediabucks)
glimpse(MediaBucks)
head(MediaBucks)
summary(MediaBucks$Salary)
sum(MediaBucks$Salary, na.rm=TRUE)
mean(MediaBucks$Salary, na.rm=TRUE)
quantile(MediaBucks$Salary, c(0.1, 0.2, 0.3, 0.4,0.5, 0.6, 0.7, 0.8, 0.9), na.rm=TRUE)
quantile(MediaBucks$Salary, c(0.25, 0.50, 0.75, 0.9, 0.99), na.rm=TRUE)
quantile(MediaBucks$Salary, c(0.25, 0.50, 0.75, 0.9, 0.99), na.rm=TRUE)
MediaBucks %>%
select(Gender, Salary) %>%
group_by(Gender) %>%
summarize(Total = sum(Salary, na.rm=TRUE))
MediaBucks %>%
count(Gender) %>%
arrange(desc(n))
MediaBucks %>%
select(Gender, Salary) %>%
group_by(Gender) %>%
summarize(Avg_Salary = mean(Salary, na.rm=TRUE))
MediaSalary <- MediaBucks %>%
filter(Salary >= 1000)
MediaBucks %>%
select(COMPANY, Salary) %>%
slice_max(Salary, n = 10)
WSJ <- subset(MediaBucks, COMPANY=="WallStreetJournal")
summary(WSJ$Salary)
Journal <- subset(MediaBucks, grepl("?Journal", COMPANY))
Bloom <- subset(MediaBucks, grepl("?Bloomberg", COMPANY))
BigBoys <- filter(MediaSalary, COMPANY %in% c("NewYorkTimes", "WallStreetJournal", "Bloomberg"))
Reporters <- subset(MediaBucks, grepl("?reporter", TITLE))
summary(Reporters$Salary)
WSJ_Black <- MediaBucks %>% filter(Race =="black", COMPANY == "WallStreetJournal")
Race <- MediaBucks %>%
select(Race, Salary) %>%
group_by(Race) %>%
summarize(Avg_Salary = mean(Salary, na.rm=TRUE)) %>%
arrange(desc(Avg_Salary))
Race
MediaBucks %>%
count(Race) %>%
arrange(desc(n))
MediaBucks %>%
select(Race, Salary) %>%
group_by(Race) %>%
summarize(Total=n(),
Avg = mean(Salary, na.rm=TRUE)) %>%
arrange(desc(Total))
#details: https://stackoverflow.com/questions/36183601/average-and-count-with-aggregation-in-r-with-dplyr
Race %>%
ggplot(aes(x = Race, y = Avg_Salary, fill = Avg_Salary)) +
geom_col(position = "dodge") +
theme(legend.position = "none") +
labs(title = "Sample chart of race and salary using MediaSalaries",
caption = "1658 records, sample data. Graphic by Rob Wells, 8/11/2022",
y="Average Salary",
x="Race / Ethnicity")
View(MediaBucks)
#your answer here
nyt_median <- MediaBucks %>% filter(Salary, COMPANY == "NewYorkTimes")
#your answer here
nyt_median <- MediaBucks %>% filter(COMPANY == "NewYorkTimes")
#your answer here
nyt_median <- MediaBucks %>% filter(COMPANY == "NewYorkTimes")
summary(nyt_median)
#your answer here
nyt_median <- MediaBucks %>% filter(COMPANY == "NewYorkTimes")
median(nyt_median)
#your answer here
nyt_median <- MediaBucks %>% filter(COMPANY == "NewYorkTimes")
summary(nyt_median)
Journal <- subset(MediaBucks, grepl("?Journal", COMPANY))
View(Journal)
#your answer here
nyt_top <- MediaBucks %>%
filter(COMPANY == "NewYorkTimes")
select(TITLE, COMPANY, Salary, Race, Gender) %>%
slice_max(Salary, n = 1)
#your answer here
nyt_top <- MediaBucks %>%
filter(COMPANY == "NewYorkTimes")
select(Title, COMPANY, Salary, Race, Gender) %>%
slice_max(Salary, n = 1)
#your answer here
nyt_top <- MediaBucks %>%
filter(COMPANY == "NewYorkTimes")
select(TITLE, COMPANY, Salary, Race, Gender) %>%
slice_max(Salary, n = 1)
#your answer here
nyt_top <- MediaBucks %>%
filter(COMPANY == "NewYorkTimes")
select(COMPANY, Salary, Race, Gender) %>%
slice_max(Salary, n = 1)
#your answer here
nyt_top <- MediaBucks %>%
filter(COMPANY == "NewYorkTimes") %>%
select(TITLE, COMPANY, Salary, Race, Gender) %>%
slice_max(Salary, n = 1)
View(nyt_top)
#your answer here
bloom_med <- MediaBucks %>%
filter(COMPANY == "Bloomberg")
View(bloom_med)
#your answer here
bloom_med <- MediaBucks %>%
filter(bloom_med, !grepl('Bloomberg', COMPANY))
#your answer here
MediaBucks %>%
filter(MediaBucks, !grepl('Bloomberg', COMPANY))
#your answer here
bloom_med <- MediaBucks %>%
filter(bloom_med, !grepl("Bloomberg", COMPANY))
#your answer here
bloom_med <- MediaBucks %>%
filter(!grepl("Bloomberg", COMPANY))
View(bloom_med)
#your answer here
bloom_med <- MediaBucks %>%
filter(bloom_med, !grepl("Bloomberg", COMPANY))
#your answer here
bloom_med <- MediaBucks %>%
filter(bloom_med, grepl("?Bloomberg", COMPANY))
#your answer here
bloom_med <- MediaBucks %>%
bloom_med <- subset(bloom_med, grepl("?Bloomberg", COMPANY))
#your answer here
bloom_med <- MediaBucks
bloom_med <- subset(bloom_med, grepl("?Bloomberg", COMPANY))
View(bloom_med)
#your answer here
bloom_med <- MediaBucks
bloom_med <- subset(bloom_med, grepl("?Bloomberg", COMPANY))
summary(bloom_med)
#your answer here
bloom_med <- MediaBucks
bloom_med <- subset(bloom_med, grepl("?Bloomberg", COMPANY))
summary(bloom_med, ?Salary)
median(bloom_med$Salary)
median(nyt_median$Salary)
#your answer here
bloom_med <- MediaBucks
bloom_med <- subset(bloom_med, grepl("?Bloomberg", COMPANY))
summary(bloom_med)
median(bloom_med$Salary)
median(nyt_med$Salary) - median(bloom_med$Salary)
#your answer here
bloom_med <- MediaBucks
bloom_med <- subset(bloom_med, grepl("?Bloomberg", COMPANY))
summary(bloom_med)
median(bloom_med$Salary)
median(nyt_median$Salary) - median(bloom_med$Salary)
# Median salary is $50,000. That's $2,000 less than the median NYT salary
